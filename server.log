INFO:     Will watch for changes in these directories: ['/Users/libingchen/Desktop/clinicalNLP-deterministic']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [60375] using StatReload
INFO:     Started server process [60380]
INFO:     Waiting for application startup.
INFO:     Application startup complete.
INFO:clinicalnlp.backend:Received /analyze-with-guideline (note_len=7351, filename=MCG Pneumonia.pdf)
INFO:clinicalnlp.alignment_engine:Using canonical MCG_CRITERIA (count=10).
INFO:clinicalnlp.alignment_engine:Extracted criteria count (final): 10 (used_mcg=True)
INFO:clinicalnlp.criteria_evaluator:evaluate_criteria -> evaluated 10 items
INFO:clinicalnlp.alignment_engine:Evaluated items count: 10
INFO:clinicalnlp.backend:run_alignment_engine returned keys=['extractedCriteria', 'revisedNotes', 'revisedNoteText', 'missingCriteria', 'overallScore', 'admissionRecommended', 'rawPdfSectionsPreview', '_rawSections', '_rawEvaluatedPreview', '_rawDecision', 'usedCanonicalMCG']
INFO:     127.0.0.1:54042 - "POST /analyze-with-guideline HTTP/1.1" 200 OK
Traceback (most recent call last):
  File "/Users/libingchen/Desktop/clinicalNLP-deterministic/venv/bin/uvicorn", line 8, in <module>
    sys.exit(main())
             ^^^^^^
  File "/Users/libingchen/Desktop/clinicalNLP-deterministic/venv/lib/python3.11/site-packages/click/core.py", line 1485, in __call__
    return self.main(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/libingchen/Desktop/clinicalNLP-deterministic/venv/lib/python3.11/site-packages/click/core.py", line 1406, in main
    rv = self.invoke(ctx)
         ^^^^^^^^^^^^^^^^
  File "/Users/libingchen/Desktop/clinicalNLP-deterministic/venv/lib/python3.11/site-packages/click/core.py", line 1269, in invoke
    return ctx.invoke(self.callback, **ctx.params)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/libingchen/Desktop/clinicalNLP-deterministic/venv/lib/python3.11/site-packages/click/core.py", line 824, in invoke
    return callback(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/libingchen/Desktop/clinicalNLP-deterministic/venv/lib/python3.11/site-packages/uvicorn/main.py", line 433, in main
    run(
  File "/Users/libingchen/Desktop/clinicalNLP-deterministic/venv/lib/python3.11/site-packages/uvicorn/main.py", line 601, in run
    ChangeReload(config, target=server.run, sockets=[sock]).run()
  File "/Users/libingchen/Desktop/clinicalNLP-deterministic/venv/lib/python3.11/site-packages/uvicorn/supervisors/basereload.py", line 52, in run
    for changes in self:
  File "/Users/libingchen/Desktop/clinicalNLP-deterministic/venv/lib/python3.11/site-packages/uvicorn/supervisors/basereload.py", line 71, in __next__
    return self.should_restart()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/Users/libingchen/Desktop/clinicalNLP-deterministic/venv/lib/python3.11/site-packages/uvicorn/supervisors/statreload.py", line 31, in should_restart
    for file in self.iter_py_files():
  File "/Users/libingchen/Desktop/clinicalNLP-deterministic/venv/lib/python3.11/site-packages/uvicorn/supervisors/statreload.py", line 51, in iter_py_files
    for path in list(reload_dir.rglob("*.py")):
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/libingchen/.pyenv/versions/3.11.8/lib/python3.11/pathlib.py", line 968, in rglob
    for p in selector.select_from(self):
  File "/Users/libingchen/.pyenv/versions/3.11.8/lib/python3.11/pathlib.py", line 408, in _select_from
    for p in successor_select(starting_point, is_dir, exists, scandir):
  File "/Users/libingchen/.pyenv/versions/3.11.8/lib/python3.11/pathlib.py", line 355, in _select_from
    with scandir(parent_path) as scandir_it:
         ^^^^^^^^^^^^^^^^^^^^
  File "/Users/libingchen/.pyenv/versions/3.11.8/lib/python3.11/pathlib.py", line 938, in _scandir
    return os.scandir(self)
           ^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/Users/libingchen/Desktop/clinicalNLP-deterministic/.git/objects/27'
INFO:clinicalnlp.backend:Received /analyze-with-guideline (note_len=1066, filename=MCG Pneumonia.pdf)
INFO:clinicalnlp.alignment_engine:Using canonical MCG_CRITERIA (count=10).
INFO:clinicalnlp.alignment_engine:Extracted criteria count (final): 10 (used_mcg=True)
INFO:clinicalnlp.criteria_evaluator:evaluate_criteria -> evaluated 10 items
INFO:clinicalnlp.alignment_engine:Evaluated items count: 10
INFO:clinicalnlp.backend:run_alignment_engine returned keys=['extractedCriteria', 'revisedNotes', 'revisedNoteText', 'missingCriteria', 'overallScore', 'admissionRecommended', 'rawPdfSectionsPreview', '_rawSections', '_rawEvaluatedPreview', '_rawDecision', 'usedCanonicalMCG']
INFO:     127.0.0.1:54254 - "POST /analyze-with-guideline HTTP/1.1" 200 OK
INFO:clinicalnlp.backend:Received /analyze-with-guideline (note_len=1066, filename=MCG Pneumonia.pdf)
INFO:clinicalnlp.alignment_engine:Using canonical MCG_CRITERIA (count=10).
INFO:clinicalnlp.alignment_engine:Extracted criteria count (final): 10 (used_mcg=True)
INFO:clinicalnlp.criteria_evaluator:evaluate_criteria -> evaluated 10 items
INFO:clinicalnlp.alignment_engine:Evaluated items count: 10
INFO:clinicalnlp.backend:run_alignment_engine returned keys=['extractedCriteria', 'revisedNotes', 'revisedNoteText', 'missingCriteria', 'overallScore', 'admissionRecommended', 'rawPdfSectionsPreview', '_rawSections', '_rawEvaluatedPreview', '_rawDecision', 'usedCanonicalMCG']
INFO:     127.0.0.1:54863 - "POST /analyze-with-guideline HTTP/1.1" 200 OK
INFO:clinicalnlp.backend:Received /analyze-with-guideline (note_len=1066, filename=MCG Pneumonia.pdf)
INFO:clinicalnlp.alignment_engine:Using canonical MCG_CRITERIA (count=10).
INFO:clinicalnlp.alignment_engine:Extracted criteria count (final): 10 (used_mcg=True)
INFO:clinicalnlp.criteria_evaluator:evaluate_criteria -> evaluated 10 items
INFO:clinicalnlp.alignment_engine:Evaluated items count: 10
INFO:clinicalnlp.backend:run_alignment_engine returned keys=['extractedCriteria', 'revisedNotes', 'revisedNoteText', 'missingCriteria', 'overallScore', 'admissionRecommended', 'rawPdfSectionsPreview', '_rawSections', '_rawEvaluatedPreview', '_rawDecision', 'usedCanonicalMCG']
INFO:     127.0.0.1:55411 - "POST /analyze-with-guideline HTTP/1.1" 200 OK
INFO:clinicalnlp.backend:Received /analyze-with-guideline (note_len=1066, filename=MCG Pneumonia.pdf)
INFO:clinicalnlp.alignment_engine:Using canonical MCG_CRITERIA (count=10).
INFO:clinicalnlp.alignment_engine:Extracted criteria count (final): 10 (used_mcg=True)
INFO:clinicalnlp.criteria_evaluator:evaluate_criteria -> evaluated 10 items
INFO:clinicalnlp.alignment_engine:Evaluated items count: 10
INFO:clinicalnlp.backend:run_alignment_engine returned keys=['extractedCriteria', 'revisedNotes', 'revisedNoteText', 'missingCriteria', 'overallScore', 'admissionRecommended', 'rawPdfSectionsPreview', '_rawSections', '_rawEvaluatedPreview', '_rawDecision', 'usedCanonicalMCG']
INFO:     127.0.0.1:55412 - "POST /analyze-with-guideline HTTP/1.1" 200 OK
INFO:clinicalnlp.backend:Received /analyze-with-guideline (note_len=1066, filename=MCG Pneumonia.pdf)
INFO:clinicalnlp.alignment_engine:Using canonical MCG_CRITERIA (count=10).
INFO:clinicalnlp.alignment_engine:Extracted criteria count (final): 10 (used_mcg=True)
INFO:clinicalnlp.criteria_evaluator:evaluate_criteria -> evaluated 10 items
INFO:clinicalnlp.alignment_engine:Evaluated items count: 10
INFO:clinicalnlp.backend:run_alignment_engine returned keys=['extractedCriteria', 'revisedNotes', 'revisedNoteText', 'missingCriteria', 'overallScore', 'admissionRecommended', 'rawPdfSectionsPreview', '_rawSections', '_rawEvaluatedPreview', '_rawDecision', 'usedCanonicalMCG']
INFO:     127.0.0.1:55701 - "POST /analyze-with-guideline HTTP/1.1" 200 OK
INFO:clinicalnlp.backend:Received /analyze-with-guideline (note_len=1066, filename=MCG Pneumonia.pdf)
INFO:clinicalnlp.alignment_engine:Using canonical MCG_CRITERIA (count=10).
INFO:clinicalnlp.alignment_engine:Extracted criteria count (final): 10 (used_mcg=True)
INFO:clinicalnlp.criteria_evaluator:evaluate_criteria -> evaluated 10 items
INFO:clinicalnlp.alignment_engine:Evaluated items count: 10
INFO:clinicalnlp.backend:run_alignment_engine returned keys=['extractedCriteria', 'revisedNotes', 'revisedNoteText', 'missingCriteria', 'overallScore', 'admissionRecommended', 'rawPdfSectionsPreview', '_rawSections', '_rawEvaluatedPreview', '_rawDecision', 'usedCanonicalMCG']
INFO:     127.0.0.1:56198 - "POST /analyze-with-guideline HTTP/1.1" 200 OK
